<!DOCTYPE html>
<html class="light" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Step 4: Exercise &amp; Eating Habits - Fitness Intake Form</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('formState', () => ({
                isExercising: null,
                favoriteFoods: [],
                dislikedFoods: [],
                newFavoriteFood: '',
                newDislikedFood: '',
                addFood(type) {
                    const input = type === 'favorite' ? this.newFavoriteFood.trim() : this.newDislikedFood.trim();
                    if (input && (type === 'favorite' ? !this.favoriteFoods.includes(input) : !this.dislikedFoods.includes(input))) {
                        if (type === 'favorite') {
                            this.favoriteFoods.push(input);
                            this.newFavoriteFood = '';
                        } else {
                            this.dislikedFoods.push(input);
                            this.newDislikedFood = '';
                        }
                    }
                },
                removeFood(type, index) {
                    if (type === 'favorite') {
                        this.favoriteFoods.splice(index, 1);
                    } else {
                        this.dislikedFoods.splice(index, 1);
                    }
                }
            }))
        })
    </script>
<script defer="" src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ec1313",
                        "background-light": "#f8f6f6",
                        "background-dark": "#221010",
                        "text-light": "#1b0d0d",
                        "text-dark": "#f8f6f6",
                        "text-muted-light": "#9a4c4c",
                        "text-muted-dark": "#e7cfcf"
                    },
                    fontFamily: {
                        "display": ["Lexend", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
<div class="relative flex min-h-screen w-full flex-col items-center justify-center p-4 sm:p-6 lg:p-8">
<main class="w-full max-w-2xl">
<div class="mb-8 px-4">
<div class="flex items-center justify-between gap-6">
<p class="text-base font-medium leading-normal text-text-light dark:text-text-dark">Step 4 of 6</p>
</div>
<div class="mt-3 h-2 w-full rounded-full bg-primary/20">
<div class="h-2 rounded-full bg-primary" style="width: 66%;"></div>
</div>
</div>
<div class="w-full rounded-xl bg-white dark:bg-background-dark/50 p-6 sm:p-8 lg:p-10 shadow-lg dark:shadow-primary/10" x-data="formState">
<div class="mb-8">
<h1 class="text-3xl sm:text-4xl font-black leading-tight tracking-tight text-text-light dark:text-text-dark">Exercise &amp; Eating Habits</h1>
<p class="mt-2 text-base font-normal leading-normal text-text-muted-light dark:text-text-muted-dark">Understanding your current habits helps us build a plan that works for you.</p>
</div>
<form action="/api/intake/submit" class="flex flex-col gap-6" method="POST">
<div class="flex flex-col">
<label class="text-base font-medium leading-normal pb-2 text-text-light dark:text-text-dark">Are you currently exercising?</label>
<div class="flex w-full overflow-hidden rounded-lg border border-[#e7cfcf] dark:border-text-muted-light/30">
<button :class="{'bg-primary text-white': isExercising === true, 'bg-background-light dark:bg-background-dark hover:bg-black/5 dark:hover:bg-white/5': isExercising !== true}" @click.prevent="isExercising = true" class="flex-1 px-4 py-3 text-base font-semibold transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-inset" type="button">Yes</button>
<button :class="{'bg-primary text-white': isExercising === false, 'bg-background-light dark:bg-background-dark hover:bg-black/5 dark:hover:bg-white/5': isExercising !== false}" @click.prevent="isExercising = false" class="flex-1 border-l border-[#e7cfcf] dark:border-text-muted-light/30 px-4 py-3 text-base font-semibold transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-inset" type="button">No</button>
</div>
<input name="currently_exercising" required="" type="hidden" x-bind:value="isExercising"/>
</div>
<div class="flex flex-col" x-show="isExercising" x-transition:enter="transition ease-out duration-300" x-transition:enter-end="opacity-100 translate-y-0" x-transition:enter-start="opacity-0 -translate-y-2" x-transition:leave="transition ease-in duration-200" x-transition:leave-end="opacity-0 -translate-y-2" x-transition:leave-start="opacity-100 translate-y-0">
<label class="text-base font-medium leading-normal pb-2 text-text-light dark:text-text-dark" for="exercise_routine">Describe your current routine (time, frequency, duration)</label>
<textarea class="flex w-full min-w-0 flex-1 resize-y overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e7cfcf] dark:border-text-muted-light/30 bg-background-light dark:bg-background-dark min-h-[120px] placeholder:text-text-muted-light dark:placeholder:text-text-muted-dark p-[15px] text-base font-normal leading-normal" id="exercise_routine" name="exercise_routine" placeholder="e.g., I lift weights 3 times a week for about 60 minutes." x-bind:required="isExercising"></textarea>
</div>
<div class="flex flex-col">
<label class="text-base font-medium leading-normal pb-2 text-text-light dark:text-text-dark" for="food_recall">24-hour food recall</label>
<textarea class="flex w-full min-w-0 flex-1 resize-y overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e7cfcf] dark:border-text-muted-light/30 bg-background-light dark:bg-background-dark min-h-[120px] placeholder:text-text-muted-light dark:placeholder:text-text-muted-dark p-[15px] text-base font-normal leading-normal" id="food_recall" name="food_recall" placeholder="Please list everything you ate and drank in the last 24 hours." required=""></textarea>
</div>
<div class="flex flex-col">
<label class="text-base font-medium leading-normal pb-2 text-text-light dark:text-text-dark" for="favorite_foods_input">Favorite foods</label>
<div class="flex flex-col">
<div class="flex gap-2">
<input @keydown.enter.prevent="addFood('favorite')" class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e7cfcf] dark:border-text-muted-light/30 bg-background-light dark:bg-background-dark h-14 placeholder:text-text-muted-light dark:placeholder:text-text-muted-dark p-[15px] text-base font-normal leading-normal" id="favorite_foods_input" placeholder="Add a food and press Enter" type="text" x-model="newFavoriteFood"/>
<button @click.prevent="addFood('favorite')" class="flex h-14 w-14 items-center justify-center rounded-lg bg-primary text-white transition-opacity hover:opacity-90" type="button">
<span class="material-symbols-outlined">add</span>
</button>
</div>
<div class="mt-4 flex flex-wrap gap-2" x-show="favoriteFoods.length &gt; 0">
<template :key="index" x-for="(food, index) in favoriteFoods">
<span class="flex items-center gap-1 rounded-full bg-primary/10 dark:bg-primary/20 px-3 py-1.5 text-sm font-medium text-primary dark:text-white">
<span x-text="food"></span>
<button @click.prevent="removeFood('favorite', index)" class="text-primary/70 dark:text-white/70 hover:text-primary dark:hover:text-white" type="button">
<span class="material-symbols-outlined !text-base">close</span>
</button>
</span>
</template>
</div>
<input name="favorite_foods" type="hidden" x-bind:value="favoriteFoods.join(',')"/>
</div>
</div>
<div class="flex flex-col">
<label class="text-base font-medium leading-normal pb-2 text-text-light dark:text-text-dark" for="disliked_foods_input">Disliked foods</label>
<div class="flex flex-col">
<div class="flex gap-2">
<input @keydown.enter.prevent="addFood('disliked')" class="flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-text-light dark:text-text-dark focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-[#e7cfcf] dark:border-text-muted-light/30 bg-background-light dark:bg-background-dark h-14 placeholder:text-text-muted-light dark:placeholder:text-text-muted-dark p-[15px] text-base font-normal leading-normal" id="disliked_foods_input" placeholder="Add a food and press Enter" type="text" x-model="newDislikedFood"/>
<button @click.prevent="addFood('disliked')" class="flex h-14 w-14 items-center justify-center rounded-lg bg-primary text-white transition-opacity hover:opacity-90" type="button">
<span class="material-symbols-outlined">add</span>
</button>
</div>
<div class="mt-4 flex flex-wrap gap-2" x-show="dislikedFoods.length &gt; 0">
<template :key="index" x-for="(food, index) in dislikedFoods">
<span class="flex items-center gap-1 rounded-full bg-primary/10 dark:bg-primary/20 px-3 py-1.5 text-sm font-medium text-primary dark:text-white">
<span x-text="food"></span>
<button @click.prevent="removeFood('disliked', index)" class="text-primary/70 dark:text-white/70 hover:text-primary dark:hover:text-white" type="button">
<span class="material-symbols-outlined !text-base">close</span>
</button>
</span>
</template>
</div>
<input name="disliked_foods" type="hidden" x-bind:value="dislikedFoods.join(',')"/>
</div>
</div>
<div class="flex flex-col-reverse items-center gap-4 pt-4 sm:flex-row sm:justify-between">
  <!-- Back: go to step 3 -->
  <button
    type="button"
    onclick="window.location.href='3healthhistory.html';"
    class="flex h-12 w-full items-center justify-center gap-2 whitespace-nowrap rounded-lg px-6 text-base font-semibold text-brand-gray dark:text-gray-400 transition-colors hover:text-brand-charcoal dark:hover:text-white sm:w-auto"
  >
    Back
  </button>

  <!-- Next: go to Step 5 -->
  <button
    type="button"
    onclick="goToNextStep();"
    class="flex h-12 w-full items-center justify-center gap-2 whitespace-nowrap rounded-lg bg-primary px-8 text-base font-semibold text-white shadow-sm transition-transform hover:scale-105 active:scale-95 sm:w-auto"
  >
    Next
    <span class="material-symbols-outlined" data-icon="arrow_forward">arrow_forward</span>
  </button>
</div>

<script>
  function goToNextStep() {
    const form = document.querySelector('form');
    if (form.reportValidity()) {
      window.location.href = '5allergiesanddiet.html';
    }
  }
</script>
</form>
</div>
</main>
</div>

</body></html>
